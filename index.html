<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#0a1022">
  <link rel="icon" href="icon-192.jpg" sizes="192x192">
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=0.8, maximum-scale=1, minimum-scale=0.8, user-scalable=no">
  <title>£Budget (£)</title>
  <style>
    :root{
      --bg:#0b1020; --panel:#121935; --muted:#7d86a5; --text:#e9ecf5; --accent:#6ea8fe; --accent-2:#66d19e; --danger:#ff7b7b; --warn:#ffd166;
      --border:#2a335a; --shadow:0 10px 30px rgba(0,0,0,.25);
    }
    *{box-sizing:border-box}
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial; background:linear-gradient(180deg,#0b1020,#0e1430); color:var(--text)}
    .wrap{max-width:980px; margin:48px auto; padding:0 20px}
    header{display:flex; gap:16px; align-items:center; justify-content:space-between; flex-wrap:wrap; margin-bottom:16px}
    h1{font-size:clamp(22px,3vw,28px); margin:0; letter-spacing:.2px}
    .sub{color:var(--muted); font-size:14px}

    .card{background:var(--panel); border:1px solid var(--border); border-radius:18px; box-shadow:var(--shadow); padding:16px}
    .grid{display:grid; gap:16px}
    .grid.cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}
    @media (max-width:600px){.grid.cols-2{grid-template-columns:1fr}}

    label{font-size:14px; color:var(--muted)}
    input[type=number]{width:150px; appearance:textfield; -moz-appearance:textfield; background:#0d1430; color:var(--text); border:1px solid var(--border); border-radius:12px; padding:10px 12px; font-size:16px}
    input[type=number]::-webkit-outer-spin-button,input[type=number]::-webkit-inner-spin-button{appearance:none; margin:0}
    button{background:var(--accent); color:#071225; border:0; border-radius:12px; padding:10px 14px; font-weight:600; cursor:pointer}
    button.secondary{background:transparent; color:var(--text); border:1px solid var(--border)}
    button.danger{background:var(--danger); color:#1d0b0b}
    button:disabled{opacity:.6; cursor:not-allowed}

    .row{display:flex; gap:12px; align-items:end; flex-wrap:wrap}
    .kpi{display:flex; flex-direction:column; gap:6px; background:#0e1535; border:1px dashed var(--border); border-radius:14px; padding:12px 14px}
    .kpi strong{font-size:20px}

    .progress{height:10px; background:#0b1128; border-radius:999px; overflow:hidden; border:1px solid var(--border)}
    .progress > div{height:100%; background:linear-gradient(90deg,var(--accent),#a37dff); width:0%}
    .progress.green > div{background:linear-gradient(90deg,var(--accent-2),#7ce6be)}
    .progress.red > div{background:linear-gradient(90deg,#ff7b7b,#ff9e7b)}

    table{width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius:16px; border:1px solid var(--border)}
    thead th{position:sticky; top:0; z-index:1; background:#0f1738; color:var(--muted); font-weight:600; padding:10px 8px; text-align:left; border-bottom:1px solid var(--border)}
    tbody td{padding:10px 8px; border-bottom:1px solid var(--border)}
    tbody tr:last-child td{border-bottom:none}
    .amount{font-variant-numeric:tabular-nums}
    .muted{color:var(--muted)}
    .pill{display:inline-block; padding:3px 8px; border-radius:999px; border:1px solid var(--border); background:#0b122d; font-size:12px}

    .over{color:var(--danger)}
    .under{color:var(--accent-2)}
    .zero{color:var(--muted)}

    .row-done{opacity:.6}
    .row-done input, .row-done button{pointer-events:none}
    .row-done .pill-done{background:#0b122d; border:1px solid var(--border)}

    .footer{display:flex; gap:10px; justify-content:flex-end; margin-top:10px}
    .help{font-size:13px; color:var(--muted)}

    /* Rolling Mode switch */
    .switch{position:relative;display:inline-block;width:56px;height:30px;vertical-align:middle}
    .switch input{display:none}
    .slider{position:absolute;cursor:pointer;inset:0;background:var(--danger);transition:.25s;border-radius:999px;box-shadow:inset 0 2px 6px rgba(0,0,0,.25)}
    .slider:before{content:"";position:absolute;height:24px;width:24px;left:3px;top:3px;background:#fff;border-radius:50%;transition:.25s;box-shadow:0 2px 6px rgba(0,0,0,.25)}
    input:checked+.slider{background:var(--accent)}
    input:checked+.slider:before{transform:translateX(26px)}

    /* Bottom controls */
    .bottom-controls{display:flex;gap:10px;align-items:center;justify-content:center;margin-top:24px;flex-wrap:wrap}
    .select{background:#0d1430;color:var(--text);border:1px solid var(--border);border-radius:12px;padding:8px 10px;font-size:14px}

    /* Mobile tweaks */
    @media (max-width:480px){
      body{font-size:14px}
      .wrap{padding:0 10px}
      .card{padding:12px; border-radius:12px}
      input[type=number]{width:120px; font-size:14px}
      button{padding:8px 10px; font-size:14px}
      table th, table td{font-size:13px; padding:6px 4px}
    }
  </style>
</head>
<body>
  <!-- Your full app HTML + scripts go here unchanged -->
</body>
</html>